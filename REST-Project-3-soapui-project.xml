<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="4e44fcdc-4a83-4059-b4b2-9ee312e482fb" activeEnvironment="Default" name="REST Project 3" soapui-version="5.4.0" abortOnError="false" runType="SEQUENTIAL" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:RestService" id="731e623c-6bf6-40f6-a900-5b407a28bb3c" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://localhost:8080" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache/><con:endpoints><con:endpoint>http://localhost:8080</con:endpoint></con:endpoints><con:resource name="GetDepartments" path="/employee-management/employees/getDepartments" id="33f65243-3574-4bf7-90ed-cab2bdc1d019"><con:settings/><con:parameters/><con:method name="GetDepartments 1" id="ba14e1d2-8157-467d-9046-19035f612275" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:get="http://localhost/employee-management/employees/getDepartments">get:Response</con:element></con:representation><con:request name="Request 1" id="e00c272a-1806-4d98-b578-d31b2566b6bc" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:originalUri>http://localhost/employee-management/employees/getDepartments</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:testSuite id="21d7a54b-6721-4e2b-98bc-9f591ef7b1e2" name="http://localhost:8080 TestSuite"><con:description>TestSuite generated for REST Service [http://localhost:8080]</con:description><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="c51f5c35-55bd-48aa-8ab1-c440a51f8409" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="GetDepartments TestCase" searchProperties="true"><con:description>TestCase generated for REST Resource [GetDepartments] located at [/employee-management/employees/getDepartments]</con:description><con:settings/><con:testStep type="restrequest" name="GetDepartments" id="192c02e1-3710-47b3-bcdb-49dbca9b1495"><con:settings/><con:config service="http://localhost:8080" resourcePath="/employee-management/employees/getDepartments" methodName="GetDepartments 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Request 1" id="e00c272a-1806-4d98-b578-d31b2566b6bc" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:originalUri>http://localhost/employee-management/employees/getDepartments</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Groovy Script" id="0beee76d-aaa2-4a48-8956-8a654953457a"><con:settings/><con:config><script>import groovy.json.JsonSlurper
def slurper = new JsonSlurper()
def project = testRunner.testCase.testSuite.getProject()
def lr = slurper.parseText context.testCase.getTestStepByName("GetDepartments").getPropertyValue("response")
log.info(lr.department)</script></con:config></con:testStep><con:testStep type="httprequest" name="deletedepartment1" id="b2a61011-95f5-48a9-9a42-a5e6b7f46306"><con:settings/><con:config method="DELETE" xsi:type="con:HttpRequest" id="1cea920f-5177-4fb3-81d7-0a8b6feace21" name="deletedepartment1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080/employee-management/employees/deleteDepartment/125</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="groovy" name="Groovy Script 1" id="f31a7bf8-8567-41d1-8f8a-981bb172b372"><con:settings/><con:config><script>import groovy.json.JsonSlurper
def slurper = new JsonSlurper()
def project = testRunner.testCase.testSuite.getProject()
def response1 = slurper.parseText context.testCase.getTestStepByName("deletedepartment1").getPropertyValue("response") 
log.info(response1)</script></con:config></con:testStep><con:testStep type="httprequest" name="getdeleteddepartment" id="5c47f30a-b655-48d8-bcc9-8cb056614182"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" id="ff82f1c4-a1d9-49aa-94aa-a0a599506e5f" name="getdeleteddepartment" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080/employee-management/employees/department/1</con:endpoint><con:request/><con:assertion type="GroovyScriptAssertion" id="ad072229-0565-4c4b-8968-735b8f0aacee" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper
 
//grab the response
def ResponseMessage = messageExchange.response.responseContent
//define a JsonSlurper
def jsonSlurper = new JsonSlurper().parseText(ResponseMessage)
 
//verify the slurper isn't empty
assert !(jsonSlurper.isEmpty());</scriptText></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="2607964c-d083-4413-93ea-fc6292fa7869" name="Not Contains"><con:configuration><token>"158"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="groovy" name="Groovy Script 2" id="3c904bbf-077e-4037-9d15-215c9745e092"><con:settings/><con:config><script>import groovy.json.JsonSlurper 
def slurper = new JsonSlurper()
def project = testRunner.testCase.testSuite.getProject()
def response = slurper.parseText context.testCase.getTestStepByName("getdeleteddepartment").getPropertyValue("response") 
log.info(response.id.id)
assert (response.id.status=="0")
log.info("department deleted successfully")
</script></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:properties/><con:wssContainer/><con:oAuth2ProfileContainer/><con:oAuth1ProfileContainer/></con:soapui-project>